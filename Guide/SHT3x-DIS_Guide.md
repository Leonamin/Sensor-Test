# **SHT3x-DIS 온습도 센서**
## **1. 소개**
#### SHT3x-DIS는 온도 및 습도를 측정하는 센서이다.
### **1.1 핀 배치**
|Pin|Name|Comments|
|---|:---:|:---|
|1|SDA|시리얼 데이터 입출력|
|2|ADDR|슬레이브 주소 핀 VDD나 VSS에 연결|
|3|ALERT|경보 조건을 나타냄|
|4|SCL|시리얼 클럭 입출력|
|5|VDD|공급 전원|
|6|nRESET|리셋 핀 액티브 로우, 미사용 시 VDD 연결 추천|
|7|R|기능 없음 VSS에 연결 추천|
|8|VSS|접지|
#### 데이터시트에 나타탄 일반적인 회로는 ADDR이 VSS에 연결되어 있어 0x44가 기본적인 슬레이브 주소이다. 만약 ADDR 핀이 VDD에 연결되어 있다면 0x45이다.
#### ALERT핀은 인터럽트 핀으로 사용될 수 있으며 사용하지 않을 시 플로팅 상태로 두어야 한다.
## **2. 동작 및 통신**
#### SHT3x-DIS는 I2C Fast 모드를 지원한다. 클럭 증가는 유저 커맨드를 통해 허용 및 비허용을 할 수 있다. 모든 SHT3x-DIS의 명령어와 데이터는 16비트 주소 공간으로 맞추어져 있다. 또한 데이터와 명령어는 CRC 체크섬으로 보호 하고 있다. 센서에 대한 16비트 명령은 3비트 CRC 체크섬을 포함하며 센서로부터 송수신되는 데이터는 항상 8비트의 CRC로 계승한다.
### **2.1 작동 및 통신 시작**
#### 센서는 임계전압에 도달한 후 동작이 시작 된다.유휴 상태에 들어가면 마스터로부터 명령을 수신할 준비가 된다.
### **2.2 측정 시작**
#### 측정 통신 순서는 START 조건, I2C Write 헤더(7비트 I2C 장치 주소+쓰기 비트로서 0) 및 16비트 측정 커맨드로 구성된다. 각 바이트의 적절한 수신은 센서에 의해 표시된다. 측정 명령의 승인으로 SHT3x-DIS는 습도 및 온도 측정을 시작한다.
### **2.3 싱글샷 모드 커맨드**
#### 이 모드에서 1개의 실행된 측정 명령은 하나의 데이터 쌍의 획득을 트리거한다. 각 데이터 쌍은 하나의 16비트 온도와 하나의 16비트 습도 값으로 구성된다. 전송 중에 데이터 쌍은 항상 CRC 체크섬을 따른다. 싱글샷 모드에서는 아래와 같이 다른 측정 명령을 선택할 수 있다. 
`싱글샷 모드 커맨드`
|| 조건 | 16진수 값 ||
|:---:|:---|:---:|:---:|
|반복성|클럭 증가|MSB|LSB|
|높음|||06|
|중간|허용|0x2C|0D|
|낮음|||10|
|높음|||00|
|중간|비허용|0x24|0B|
|높음|||16|
### **2.4 주기적 측정 모드 커맨드**
#### 이 모드에서 발행한 측정 명령은 데이터 쌍의 스트림을 산출한다. 각 데이터 쌍은 하나의 16비트 온도와 하나의 16비트 습도 값으로 구성된다. 주기 모드에서는 다른 측정 명령을 선택할 수 있다. 커맨드는 반복성(낮음, 중간, 높음)과 데이터 수집 빈도(초당 0.5, 1, 2, 4 및 10 측정치, mps)에 관해서 다르다. 이 모드에서는 클럭 증가를 선택할 수 없다. 데이터 수집 주파수와 반복성 설정은 센서의 측정 지속시간과 현재 소비량에 영향을 미친다.
`주기적 측정 모드 커맨드`
|| 조건 | 16진수 값 ||
|:---:|:---|:---:|:---:|
|반복성|데이터 수집빈도|MSB|LSB|
|높음|||32|
|중간|0.5|0x20|24|
|낮음|||2F|
|높음|||30|
|중간|1|0x21|26|
|높음|||2D|
|높음|||36|
|중간|2|0x22|20|
|높음|||2B|
|높음|||34|
|중간|4|0x23|22|
|높음|||29|
|높음|||37|
|중간|10|0x27|21|
|높음|||2A|
#### 주기적 측정 모드에서 데이터를 얻어오는 방법은 커맨드 0xE000을 전송하면 된다.
### **2.5 ART 커맨드**
#### ART(accelerated response time, 가속 응답 시간) 기능은 커맨드 0x2B32를 사용하여 활성화할 수 있다. 이 명령을 실행하면 센서는 4Hz의 주파수로 데이터 수집을 시작한다.
### **2.6 중단 커맨드**
#### 주기적 측정 모드는 0x3093 중단 커맨드를 사용하여 멈출 수 있다. 이 명령은 다른 명령을 보내기 전에 주기적 측정을 중단하는데에 추천된다. 중단 커맨드를 사용하면 싱글샷 모드로 전환된다.